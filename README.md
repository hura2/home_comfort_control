# Home Comfort Control

**Home Comfort Control** は、エアコンやCO2センサーを連携させて室内の温度、湿度、CO2レベルを管理します。屋外気温を基に室内の表面温度を計算し、PMV（Predicted Mean Vote）を算出してエアコンを制御。さらに、サーキュレーターを使用して室内の温度差を緩和します。

## 特徴

- 温度、湿度、CO2レベルのモニタリング
- 屋外気温から室内表面温度（床、壁、天井）を簡易計算
- PMV（Predicted Mean Vote）を算出し、エアコンを制御（[pythermalcomfort](https://pypi.org/project/pythermalcomfort/)を利用）
- 部屋の床と天井の温度差を測定し、サーキュレーターを制御して室内の温度均一化を図る
- CO2レベルに応じてエアコンの風量を調整

## PMVとは？

**PMV（Predicted Mean Vote）**は、室内の快適さを評価する指標で、温度、湿度、放射温度、気流、活動量、着衣量の6つの要素を基に算出されます。PMVは-3（非常に寒い）から+3（非常に暑い）までのスケールで表され、**PMV=0**は「快適な環境」を意味します。

### PMV評価尺度

- **+3**: かなり暑い
- **+2**: 暑い
- **+1**: 少し暑い
- **0**: 快適な環境
- **-1**: 少し寒い
- **-2**: 寒い
- **-3**: かなり寒い

PMVに基づき、**PPD（Predicted Percentage of Dissatisfied）**も算出され、不満を感じる人の割合を示します。PMVが±0.5以内でPPDが10%以下が快適な環境とされています。

### 活動量と着衣量

PMVの算出には以下の人的要因が重要です：

- **活動量（Met値）**:
  - 0.7: 安静時
  - 1.0: 座っている
  - 1.2: 軽い作業
  - 2.0: 激しい運動
- **着衣量（clo値）**:
  - 0.3: 半袖＋半ズボン
  - 0.5: シャツ＋ズボン
  - 1.0: ジャケット

これらの要素をもとに、快適な温熱環境を提供するためにエアコンや暖房の設定が調整されます。

## 対応デバイス

### SwitchBot 温湿度計・CO2センサー
SwitchBotが提供する温湿度計とCO2センサーで、室内の温度、湿度、CO2濃度をリアルタイムで計測します。これらのデータはAPI経由で取得できます。

### エアコン・サーキュレーター
SwitchBotの赤外線リモコン機能を使用して、エアコンやサーキュレーターを制御します。温度設定や運転モードを調整し、室内環境を快適に保ちます。

## 必要最低限のデバイス

- **SwitchBot 温湿度計**
- **SwitchBot 赤外線リモコン**（エアコン制御用）

## 推奨デバイス

- **リビング**: SwitchBot 温湿度計（床）、SwitchBot 温湿度計（天井）
- **他の部屋**: SwitchBot 温湿度計（リビングとの温度差管理用）
- **屋外**: SwitchBot 温湿度計（室内表面温度計算用）
- **エアコン、サーキュレーター**: SwitchBot 赤外線リモコン

## ライセンス

このプロジェクトはNon-Commercial License（非商業利用ライセンス）のもとで公開されています。詳細については、`LICENSE` ファイルをご参照ください。